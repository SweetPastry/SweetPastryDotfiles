ğŸ›  rustc æ˜¯åº•å±‚çš„ Rust ç¼–è¯‘å™¨

å®ƒæ˜¯ Rust çš„æ ¸å¿ƒç¼–è¯‘å™¨ï¼Œç›´æ¥å°† .rs æ–‡ä»¶ç¼–è¯‘æˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆ.exe, .out, ç­‰ï¼‰ã€‚

âœ… ç”¨é€”ï¼š
	â€¢	å•ç‹¬ç¼–è¯‘ä¸€ä¸ª .rs æ–‡ä»¶ï¼ˆæ— ä¾èµ–é¡¹ç›®ç»“æ„ï¼‰
	â€¢	ç›´æ¥å­¦ä¹ è¯­æ³•æˆ–è°ƒè¯•å¾ˆå°çš„ç¨‹åº

ğŸš§ ç¼ºç‚¹ï¼š
	â€¢	æ— æ³•è‡ªåŠ¨å¤„ç†ä¾èµ–ï¼ˆå¦‚ serde, randï¼‰
	â€¢	æ— æ³•è‡ªåŠ¨æ„å»ºæ¨¡å—é¡¹ç›®ï¼ˆæ²¡æœ‰è‡ªåŠ¨ç¼–è¯‘ mod.rsã€lib.rs ç­‰ï¼‰
	â€¢	ä¸ä¼šåˆ›å»ºé¡¹ç›®ç»“æ„æˆ–ç®¡ç†æ„å»ºé…ç½®

âœ… ç¤ºä¾‹ï¼š

rustc hello.rs
./hello



â¸»

ğŸ“¦ cargo æ˜¯ Rust çš„åŒ…ç®¡ç†ä¸æ„å»ºå·¥å…·

cargo æ˜¯å®˜æ–¹æ¨èçš„é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå®ƒ è°ƒç”¨ rustc æ¥å®Œæˆç¼–è¯‘å·¥ä½œï¼Œä½†è¿˜åŒ…æ‹¬ï¼š

âœ… ä¼˜åŠ¿ï¼š
	â€¢	åˆ›å»ºé¡¹ç›®ï¼ˆcargo new, cargo initï¼‰
	â€¢	ç®¡ç†ä¾èµ–ï¼ˆé€šè¿‡ Cargo.tomlï¼‰
	â€¢	è‡ªåŠ¨æ„å»ºå®Œæ•´é¡¹ç›®ï¼ŒåŒ…æ‹¬å­æ¨¡å—
	â€¢	è‡ªåŠ¨ä¼˜åŒ–ã€è°ƒè¯•æ„å»ºï¼ˆcargo build, cargo run, cargo testï¼‰
	â€¢	æ„å»ºå¤šæ–‡ä»¶å¤§å‹é¡¹ç›®
	â€¢	æ„å»ºåº“ï¼ˆlib.rsï¼‰æˆ–äºŒè¿›åˆ¶ï¼ˆmain.rsï¼‰

âœ… ç¤ºä¾‹ï¼š

cargo new my_project
cd my_project
cargo run

è¿™ä¼šè‡ªåŠ¨ï¼š
	â€¢	ä¸‹è½½ä¾èµ–
	â€¢	ç¼–è¯‘å…¨éƒ¨æºç 
	â€¢	é“¾æ¥è¾“å‡º
	â€¢	è¿è¡Œç¨‹åº

â¸»

âœ… æ€»ç»“æ¯”è¾ƒï¼š

åŠŸèƒ½	rustc	cargo
ç¼–è¯‘åŠŸèƒ½	âœ… æ”¯æŒ	âœ… è°ƒç”¨ rustc ç¼–è¯‘
ä¾èµ–ç®¡ç†	âŒ ä¸æ”¯æŒ	âœ… æ”¯æŒ crates.ioï¼Œè‡ªåŠ¨å¤„ç† Cargo.toml
é¡¹ç›®ç»“æ„ç®¡ç†	âŒ	âœ… è‡ªåŠ¨åˆ›å»ºç›®å½•ã€æ¨¡å—ã€æµ‹è¯•ç›®å½•
æ„å»ºä¼˜åŒ–	âŒ	âœ… æ”¯æŒ release / debug æ¨¡å¼
å¸¸è§ç”¨é€”	å•æ–‡ä»¶æµ‹è¯•ã€å°å·¥å…·	å®é™…é¡¹ç›®å¼€å‘çš„æ ‡å‡†å·¥å…·



â¸»

å¦‚æœä½ åœ¨å†™ä¸€ä¸ªæ­£å¼é¡¹ç›®ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ cargoã€‚è€Œ rustc æ›´é€‚åˆç”¨æ¥ï¼š
	â€¢	å†™ hello world
	â€¢	å­¦ä¹ æ–°è¯­æ³•
	â€¢	ä¸´æ—¶æµ‹è¯•è¡¨è¾¾å¼


è¿™ä¸ªé”™è¯¯æç¤ºè¡¨æ˜ï¼š

evcxr åœ¨é€šè¿‡ Homebrew å®‰è£…çš„ shellï¼ˆç‰¹åˆ«æ˜¯åœ¨ Rosetta2 ä»¿çœŸæ¨¡å¼ä¸‹ï¼‰ è¿è¡Œæ—¶ï¼Œä¼šå› ä¸ºç³»ç»Ÿèµ„æºæˆ–å…¼å®¹æ€§é—®é¢˜è¢« æ“ä½œç³»ç»Ÿå¼ºè¡Œç»ˆæ­¢ï¼ˆSignal 9, SIGKILLï¼‰ã€‚

â¸»

ğŸ” åŸå› è§£æ
	â€¢	evcxr_jupyter æ˜¯ä¸€ä¸ªä¸º Jupyter æä¾› Rust å†…æ ¸çš„ç¨‹åºï¼ˆåŸºäº evcxr_replï¼‰ã€‚
	â€¢	Signal 9 (SIGKILL) æ˜¯æ“ä½œç³»ç»Ÿç›´æ¥â€œæ€æ‰â€è¿›ç¨‹ï¼Œé€šå¸¸åŸå› æ˜¯ï¼š
	â€¢	è¿è¡Œç¯å¢ƒä¸å…¼å®¹ï¼ˆå¦‚ Homebrew under Rosetta2ï¼‰
	â€¢	ç³»ç»Ÿèµ„æºé™åˆ¶ï¼ˆå†…å­˜ä¸å¤Ÿã€Sandbox é™åˆ¶ç­‰ï¼‰
	â€¢	éåŸç”Ÿæ¶æ„è¿è¡Œ

â¸»

âœ… æ¨èè§£å†³æ–¹æ³•ï¼ˆå®˜æ–¹å»ºè®®ï¼‰

ä¸è¦ä½¿ç”¨ Homebrew å®‰è£… rust å’Œ evcxr_jupyterã€‚æ”¹ç”¨ rustupï¼š

1. å®Œå…¨å¸è½½ Homebrew å®‰è£…çš„ Rust

brew uninstall rust

2. å®‰è£… rustupï¼ˆRust å®˜æ–¹æ¨èå·¥å…·é“¾ç®¡ç†å™¨ï¼‰

curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source $HOME/.cargo/env

ä½ å¯ä»¥åŠ ä¸€è¡Œåˆ° ~/.zshrc ä¿è¯æ¯æ¬¡ shell å¯åŠ¨éƒ½ç”Ÿæ•ˆï¼š

export PATH="$HOME/.cargo/bin:$PATH"

3. å®‰è£… evcxr_jupyter

cargo install evcxr_jupyter

ç„¶åæ³¨å†Œå†…æ ¸ï¼š

evcxr_jupyter --install



â¸»

ğŸ¯ éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ

jupyter kernelspec list

ä½ åº”è¯¥èƒ½çœ‹åˆ°ï¼š

evcxr_rust    /Users/you/Library/Jupyter/kernels/evcxr_rust

ç„¶ååœ¨ Jupyter Notebook é‡Œé€‰æ‹© Rust å†…æ ¸å³å¯ã€‚

â¸»


Rust çš„äº¤äº’å¼è§£é‡Šå™¨å«åš evcxrï¼Œå®ƒæä¾›ä¸¤ç§ä¸»è¦å½¢å¼ï¼š

â¸»

ğŸ”¸ 1. evcxr_replï¼ˆå‘½ä»¤è¡Œäº¤äº’å¼è§£é‡Šå™¨ï¼‰

è¿™æ˜¯ä¸€ä¸ªç±»ä¼¼äº Python çš„ REPLï¼ˆRead-Eval-Print Loopï¼‰ï¼Œå¯ä»¥è®©ä½ åœ¨ç»ˆç«¯ä¸­ç›´æ¥è¾“å…¥å’Œè¿è¡Œ Rust ä»£ç ã€‚

âœ… å®‰è£…æ–¹æ³•ï¼š

cargo install evcxr_repl

âœ… å¯åŠ¨æ–¹å¼ï¼š

evcxr

ä½ å°±å¯ä»¥åƒè¿™æ ·äº¤äº’å¼å†™ä»£ç ï¼š

>>> let x = 42;
>>> println!("x = {}", x);



â¸»

ğŸ”¸ 2. evcxr_jupyterï¼ˆJupyter Notebook ä¸­çš„ Rust å†…æ ¸ï¼‰

è¿™ä¸ªæ˜¯ Jupyter çš„ Rust kernelï¼Œå…è®¸ä½ åœ¨ Jupyter Notebook é‡Œå†™å’Œè¿è¡Œ Rust ä»£ç ã€‚

âœ… å®‰è£…æ–¹æ³•ï¼š

cargo install evcxr_jupyter
evcxr_jupyter --install

ä¹‹åä½ åœ¨ jupyter notebook æˆ– jupyter lab ä¸­å°±èƒ½æ–°å»ºä¸€ä¸ª Rust notebookã€‚

â¸»

ğŸ’¡ æ€»ç»“å¯¹æ¯”ï¼š

åç§°	ç”¨é€”	å¯åŠ¨æ–¹å¼
evcxr_repl	åœ¨ç»ˆç«¯è¿è¡Œ Rust ä»£ç 	evcxr
evcxr_jupyter	åœ¨ Jupyter Notebook ä¸­è¿è¡Œ	evcxr_jupyter
